<!DOCTYPE html>
<html>
  <head>
    <title>Advanced Functions</title>
  </head>
  <body>

    <!-- BEST Practice:
      Use .addEventListener() instead of onclick="..." -->

    <!-- .addEventListener() -->
    <button onclick="" class="js-button">Click</button>

    <script>
      //Functions are values
      function greeting() {
        console.log('Hello');
      }  
      greeting(); // calling/running the function

      const num = 2;
      //Functions can be saved inside a variable
      const function1 = function() {  //Anonymous Function (function without a name)
        console.log('hello2');
      };
      console.log(function1);
      console.log(typeof function1);
      function1();

      //We can save value(functions) in a object
      //method (function saved inside a object)
      const object1 = {
        num: 2,
        fun : function () {
          console.log('hello3');
        }
      };
      object1.fun();

      //pass a value(function) into another function
      function display(param)  {
        console.log(param);
      }
      display(2);

      function run(param) {
        param();
      }
      run(function() {
        console.log('hello4');
      }); //Call back functions

      //setTimeout() - allows us to run a function in the future
      // 1. A function we want to run in the future
      //2. How long to wait before running this function (in milliseconds)
      //1000 milliseconds = 1 second

      setTimeout(function() {
        console.log('timeout');
        console.log('timeout2');
      },3000); // 3 seconds

      //Asynchronous - code WON'T WAIT for a line to finish before moving to the next line
      //Synchronous - code WILL WAIT for a line to finish before moving to the next line
      console.log('next line'); // this will run before the timeout function

      setInterval(function() {
        console.log('interval');
      }, 3000); // 3 seconds

      //setInterval() - it will KEEP running a function in the future
      //1. A function we want to run in the future
      //2. A number in milliseconds
      //It will keep running the function every 3 seconds
      console.log('next line2');

      //clearInterval() - stops the setInterval function from running

      //Another way to loop through an array
      //Another way: .forEach() - is a preferred way to loop through an array
      [
        'make dinner',
        'eat dinner',
        'clean up'
      ].forEach(function (value, index) {  //Function into another function
        if (value === 'eat dinner') {
          return; //this works like continue block in a for loop
        }
        console.log(value);
        console.log(index);
      });
      // If we need to use break; then its better to use a for loop


      //A shorter way to write a functions = ARROW FUNCTIONS
      //mostly works the same way as a regular function


      const regularFunction = function(param, param2) {
        console.log('hello5');
        return 5;
      };
      regularFunction();

      const arrowFunction = (param, param2) => {
        console.log('hello5');
        return 5;
      };
      arrowFunction();

      //calculate 
      const oneParam = param => {
        console.log(param+1);
      };
      oneParam(2); // 3

      //oneLine arrow function
      const oneLine = () => 2 + 3; 
      console.log(oneLine()); // 5


      //arrow function with forEach()
      //Passing a function into another function, => use arrow functions
      [
        'make dinner',
        'eat dinner',
        'clean up'
      ].forEach((value, index) => {  
        if (value === 'eat dinner') {
          return; 
        }
        console.log(value);
        console.log(index);
      });

      const object = {
        method: () => {

        },
        method() {   //Shorthand Method

        }
      };


      //.addEventListener() - lets us run some code when we interact with the element

      //1. We can add Multiple event listeners for an event
      //2. We can remove an event listener - .removeEventListener()

      const buttonElement = document.querySelector('.js-button');


      const eventListener = ()=> {
        console.log('click');
      }
      //Two parameters - 1.event 2.A function we want to run
      buttonElement.addEventListener('click',eventListener);

      buttonElement.removeEventListener('click',eventListener );
      //1. Event 2.function we want to run

      buttonElement.addEventListener('click', ()=> {
        console.log('click2');
      });      


      //.filter() - 1. Create a new array[]
      // 2. return true, => put value in array 
      // 3. return false, => not put value in array


      //Example: filter out negative numbers from an array
      console.log([1, -3, 5].filter((value, index) => {
        /*
        if (value >= 0) {
        return true;
      } else {
        return false;
      }
        */
      return value >= 0;
      }));


      //.map() - transform an array into another array
      //1. Create a new array[]
      //2. Whatever we return => added to new array

      console.log([1,1,3].map((value, index) => {
        return value + 10;  // 11, 11, 13
      }));

      //.map() - works like forEach and filter


      //more Compact way
      console.log([1,1,3].map(value => value * 2)); // 2, 2, 6


      //Closure concept
      // - If a function has access to a value
      // - It will always have access to that value
      // - value gets packaged together (enclosed) with the function
    </script>
  </body>
</html>






